# ess-correction-service

## 画面毎の説明

---

### ログイン画面

ユーザは
`UserId, password`
を入力してログインを行います。
この際にユーザが admin かどうかを `res` として返します。

---

### 管理者画面・ユーザ編集画面

ここではユーザの登録を admin が行います。ログインの際に admin であれば表示されます。

登録・変更時には以下を入力：
`UserId, password, name, mailaddress`

削除時には：
`UserId` のみ入力します。

取得時は上記4項目が配列で取得されます。

---

### タイムライン画面

ここでは、いつ誰がAI添削を行ったかが日付昇順で確認できます。

- `name`：添削を行ったユーザの氏名
- `text`：そのユーザが書いた英文
- `date`：投稿された日付
- `submissionId`：その投稿に紐づくID

---

### 他人の英文にコメントする画面

他の人の英文とそれに対するコメントを閲覧・投稿できます。

※タイムライン画面から遷移し、`submissionId` をクエリパラメータでGET送信。

- `name`：投稿ユーザの氏名
- `text`：そのユーザが書いた英文
- `corrections`：
  - `original`：修正箇所の抜粋
  - `corrected`：修正後の文章
  - `reason`：修正理由

---

### 英文入力画面

自分で書いた英文を AI に提出します。

- リクエスト：`text`
- レスポンス：`text` と `corrections`

※結果は `localStorage` に保持 → AI採点後画面へ遷移

---

### AI採点後画面

`localStorage` にある結果を表示します。
投稿ボタンにより、`text` と `corrections` を POST 送信します。

---

### 通知画面

他のユーザから自分へのコメント通知を、日付昇順で表示します。

- セッションにある `UserId` を使って取得
- 結果：
  - `name`：コメントしたユーザの氏名
  - `submissionId`：コメントが紐づく投稿の ID

---

### 通知詳細画面

通知画面から選んだ投稿に対するコメントを表示します。

- クエリで `submissionId` を渡す
- レスポンス：
  - `text`：ログインユーザが行った投稿
  - `messages`: 配列（以下の形式）
    - `name`：コメントした人の名前
    - `message`：コメント内容

---

### マイページ

自分の投稿一覧を表示・削除できます。

- セッションの `UserId` を使って投稿一覧を取得

---

### 各投稿の詳細

マイページで選択した自分の投稿に対して
AIの添削前後やコメントを表示します。

- クエリで `submissionId` を渡し、詳細を表示

---

### セッションで保持される情報

- `UserId`
- `name`
- `password`
  
